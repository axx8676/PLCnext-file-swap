<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title><!--#include virtual="InfoValues.cgi?artname"--> - SD Card</title>
<meta charset="UTF-8">
<link href="extensions/SdCard/SdCardConfiguration.css" rel="styleSheet">
<script src="Session.js"></script>
<script src="HelpFunctions.js"></script>
<script src="Language.js"></script>
<script src="validation_rules.js"></script>
<script src="extensions/SdCard/SdCardConfiguration.js"></script>

</head>
<body>
    <div id="id_sdcard_page_global_div" hidden>
        <h1 id="id_pagetitle_security" class="c_menu_title_security">Security</h1>
        
        <div class="pxc-plt-ctrl">
            <div class="pxc-p-plain">
                <h3 id="id_subpagetitle_sdcard" class="c_proficloud_sdcard_info"></h3>
                    
                <hr></hr>
                <div class="cf pxc-cnt pxc-mod-main-table-alt-rows">
                    <table class="pxc-tbl-zebra" style="width:100%">
                        <colgroup>
                            <col style="width: 30%">
                            <col style="width: 70%">
                        </colgroup>
                        <tr>
                            <th colspan="2" class="c_glb_th_status"></th>
                        </tr>
                        <tr>
                            <td>
                                <span class="c_sdcard_current_storage"></span>
                            </td>
                            <td>
                                <span id="id_sdcard_internal_sdcard_storage" hidden class="c_sdcard_internal_sdcard_storage"></span>
                                <span id="id_sdcard_external_sdcard_storage" hidden class="c_sdcard_external_sdcard_storage"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="c_sdcard_support_external_sdcard"></span>
                            </td>
                            <td>
                                <span id="id_sdcard_external_sdcard_support_activated"            hidden class="c_sdcard_activated"></span>
                                <span id="id_sdcard_external_sdcard_support_deactivated"          hidden class="c_sdcard_deactivated"></span>
                                <span id="id_sdcard_external_sdcard_support_activation_request"   hidden class="c_sdcard_activation_request"></span>
                                <span id="id_sdcard_external_sdcard_support_deactivation_request" hidden class="c_sdcard_deactivation_request"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="c_sdcard_external_sdcard_storage">External SD Card</span>
                            </td>
                            <td>
                                <span id="id_sdcard_ext_not_available"          hidden class="c_sdcard_ext_not_available"></span>
                                <span id="id_sdcard_ext_not_encrypted"          hidden class="c_sdcard_ext_not_encrypted"></span>
                                <span id="id_sdcard_ext_encrypted"              hidden class="c_sdcard_ext_encrypted"></span> 
                                <span id="id_sdcard_ext_encryption_request"     hidden class="c_sdcard_ext_encryption_request"></span> 
                                <span id="id_sdcard_ext_decryption_request"     hidden class="c_sdcard_ext_decryption_request"></span> 
                                <span id="id_sdcard_ext_no_encryption_support"  hidden class="c_sdcard_ext_no_encryption_support"></span> 
                                <span id="id_sdcard_ext_no_encryption_unknown"  hidden class="c_sdcard_ext_no_encryption_unknown"></span> 
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="c_sdcard_recovery_password">Recovery Password</span>
                            </td>
                            <td>
                                <span id="id_sdcard_recovery_passwort_set"     hidden class="c_sdcard_recovery_passwort_set"></span>
                                <span id="id_sdcard_recovery_passwort_not_set" hidden class="c_sdcard_recovery_passwort_unset"></span>
                            </td>
                        </tr>
                    </table>
                </div>   
                <div class="cf pxc-cnt pxc-mod-main-table-alt-rows">
                    <form id="id_sdcard_configs_table_form">
                        <table class="pxc-tbl-zebra" style="width:100%">
                            <colgroup>
                                <col style="width: 30%">
                                <col style="width: 70%">
                            </colgroup>
                            <tr hidden id="id_sdcard_config_table_config_header_tr">
                                <th colspan="2" class="c_glb_th_configuration"></th>
                            </tr>
                            <tr hidden id="id_sdcard_config_table_support_section_tr">
                                <td>
                                    <span class="c_sdcard_support_external_sdcard"></span>
                                </td>
                                <td>
                                    <div class="pxc-btm-btn-align centered">
                                        <button hidden class="pxc-btn-pa" id="id_sdcard_activate_ext_card_support_button" style="width: 250px;">
                                            <span class="c_sdcard_activate_support">Activate Support</span>
                                        </button>
                                        <button  hidden class="pxc-btn-pa" id="id_sdcard_deactivate_ext_card_support_button" style="width: 250px;">
                                            <span class="c_sdcard_deactivate_support">Deactivate Support</span>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr hidden id="id_sdcard_config_table_factory_reset_section_tr">
                                <td>
                                    <span class="c_sdcard_sm_factory_reset_reactivation">Reactivation after Factory Reset</span>
                                </td>
                                <td>
                                    <div class="pxc-btm-btn-align centered">
                                        <input type="checkbox" class="disabled" id="id_sdcard_factory_reset_activation"></input>
                                       
                                        <hr>
                                        <span id="id_fw_activation_label_1"
                                              class="c_sdcard_sm_factory_reset_reactivation_1"
                                              style="float: left;">
                                            If enabled, the external SD card will be activated after a factory reset. 
                                        </span>
                                        <span id="id_fw_activation_label_2"
                                              class="c_sdcard_sm_factory_reset_reactivation_2"
                                              style="float: left; margin-top: 4px; text-align-last: left; text-align: left;">
                                            If disabled and the support for external SD card is active, the external SD card will be activated after a factory reset.
                                        </span>
                                        <span id="id_fw_activation_label_3" class="c_sdcard_sm_factory_reset_reactivation_3" 
                                              style="float: left; margin-top: 4px; text-align-last: left; text-align: left;">
                                            If disabled and the support for external SD card is deactivated, the external SD card will be deactivated after a factory reset.
                                        </span>
                                    </div>
                                </td>
                            </tr>
                            <tr id="id_sdcard_data_protection_config_section" style="high: 20px;">
                                <th scope="col" colspan="2" class="c_sdcard_data_protection_config">
                            </tr>
                            <tr>
                                <td>
                                    <span class="c_sdcard_sd_card_encryption">SD Card Encryption</span>
                                </td>
                                <td>
                                    <div id="id_sdcard_ext_card_encryption_buttons_section" class="pxc-btm-btn-align centered disabled">
                                        <button class="pxc-btn-pa" id="id_sdcard_activate_ext_card_encryption_button" style="width: 250px;">
                                            <span class="c_sdcard_activate_encryption">Activate Encryption</span>
                                        </button>
                                        <button  hidden class="pxc-btn-pa" id="id_sdcard_deactivate_ext_card_encryption_button" style="width: 250px;">
                                            <span class="c_sdcard_deactivate_encryption">Deactivate Encryption</span>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="c_sdcard_set_ext_card_recovery_passwd">Recovery password to unlock the protected SD card</span>
                                </td>
                                <td>
                                    <div class="pxc-btm-btn-align centered">
                                        <button class="pxc-btn-pa" id="id_sdcard_set_recovery_password_button" style="width: 250px;">
                                            <span class="c_sdcard_set_recovery_password">Set Recovery Password</span>
                                        </button>
                                        <button hidden class="pxc-btn-pa" id="id_sdcard_del_recovery_password_button" style="width: 250px;">
                                            <span class="c_sdcard_del_recovery_password">Delete Recovery Password</span>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </form>
                </div>
                <div class="cf pxc-cnt pxc-mod-main-table-alt-rows">
                    <table class="pxc-tbl-zebra" style="width:100%">
                        <colgroup>
                            <col style="width: 30%">
                            <col style="width: 70%">
                        </colgroup>
                        <tr>
                            <th colspan="2" class="c_glb_system_messages"></th>
                        </tr>
                        <tr>
                            <td>
                                Information
                            </td>
                            <td id="id_sdcard_system_messages_status_box_td">
                                <span id="id_sdcard_sm_no_changes_detected"               class="c_sdcard_sm_no_changes_detected"        style="color:green">No local changes detected</span>
                                <span id="id_sdcard_sm_changes_detected"           hidden class="c_sdcard_sm_changes_detected"           style="color:red">Local changes detected</span>
                                <span id="id_sdcard_sm_sd_card_activated"          hidden class="c_sdcard_sm_sd_card_activated"          style="color:blue">SD card activated</span>
                                <span id="id_sdcard_sm_sd_card_deactivated"        hidden class="c_sdcard_sm_sd_card_deactivated"        style="color:blue">SD card support is deactivated</span>
                                <span id="id_sdcard_sm_sd_card_notsupported"       hidden class="c_sdcard_sm_sd_card_notsupported"       style="color:blue">SD card support is deactivated</span>
                                <span id="id_sdcard_sm_reboot_after_activation"    hidden class="c_sdcard_sm_reboot_after_activation"    style="color:red">Reboot after activation required</span>
                                <span id="id_sdcard_sm_reboot_after_deactivation"  hidden class="c_sdcard_sm_reboot_after_deactivation"  style="color:red">Reboot after deactivation required</span>
                                <span id="id_sdcard_sm_reset_local_modification"   hidden class="c_sdcard_sm_reset_local_modification"   style="color:blue">Local modifications is being discarded!</span>
                                <span id="id_sdcard_sm_local_modification_reseted" hidden class="c_sdcard_sm_local_modification_reseted" style="color:green">Local modifications discarded!</span>
                                <span id="id_sdcard_sm_apply_local_modification"   hidden class="c_sdcard_sm_apply_local_modification"   style="color:blue">Applying SD card configurations...</span>
                                <span id="id_sdcard_sm_undefined_system_message"   hidden class="c_sdcard_sm_undefined_sys_message"      style="color:red">Undefined system message</span>
                                <span id="id_sdcard_sm_config_error_occured"       hidden class="c_sdcard_sm_config_error_occured"       style="color:red">Configuration error occured</span>
                                <span id="id_sdcard_sm_comm_error_occured"         hidden class="c_sdcard_sm_comm_error_occured"         style="color:red">Communication error occured</span>
                                <span id="id_sdcard_sm_function_not_supported"     hidden class="c_sdcard_sm_function_not_supported"     style="color:red">Function is not supported for this controller</span>
                                <span id="id_sdcard_sm_opt_text_extension"         style="color:red"></span>
                                <span id="id_sdcard_sm_factory_reset_reactivation_enabled"  hidden class="c_sdcard_sm_factory_reset_reactivation_enabled"  style="color:green">Reactivation after Factory Reset enabled.</span>
                                <span id="id_sdcard_sm_factory_reset_reactivation_disabled" hidden class="c_sdcard_sm_factory_reset_reactivation_disabled" style="color:green">Reactivation after Factory Reset disabled.</span>
                            </td>
                        </tr>
                        <tr hidden id="id_sdcard_system_messages_activation_warning_tr">
                            <td>
                                <span class="c_sdcard_sm_warning">Warning</span>
                            </td>
                            <td>
                                <span class="c_sdcard_sm_activation_warning_1" style="color:red">Use of external SD card requires physical protection of the device!</span><br>
                                <span class="c_sdcard_sm_activation_warning_2" style="color:red">Ensure that only authorized personal has access to the SD card!</span><br>
                                <span class="c_sdcard_sm_activation_warning_3" style="color:red">SD card contains sensitive private data which might be readable by persons accessing it.</span>
                            </td>
                        </tr>
                        <tr id="id_sdcard_system_messages_realtime_warning_tr">
                            <td>
                                <span class="c_sdcard_sm_warning">Warning</span>
                            </td>
                            <td>
                                <span class="c_glb_rt_reconfig_warning" style="color:red"></span><br>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="modal" id="id_div_modal_sdcard_deactivate_encryption_confirm">
                <div class="modal-content">
                    <div class="container">
                        <div id="id_sdcard_deactivate_encryption_warning_div" class="pxc-f-gradbox">
                        <span id="id_sdcard_deactivate_encryption_warning_info" class="c_sdcard_deactivate_encryption_warning_info" style="color:red;font-weight: bold;"></span>
                        </div>
                        <br>
                        <div style="display: flex;justify-content: center;">
                            <button class="pxc-btn-pa" id="id_sdcard_deactivate_encryption_ok_btn"><span class="c_glb_btn_ok"></span></button>
                            &nbsp;
                            <button class="pxc-btn" id="id_sdcard_deactivate_encryption_cancel_btn"><span class="c_glb_btn_cancel"></span></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal" id="id_div_modal_activate_sd_card_encryption">
                <div class="modal-content">
                  <div class="container">
                    <h1 id="id_sdcard_form_set_encryption_password_title">Set Password for SD Card Encryption</h1>
                    
                    <div class="div-centered">
                      </br>
                      <div>
                          <form id="id_sdcard_form_set_encryption_password">
                            <div style="margin-left: 30px;">
                              <div>
                                <label class="c_sdcard_password_input" style="width:260px; display: inline-block; padding-bottom:10px;">Password input</label>
                                <select class="pxc-dropdown" id="id_sdcard_encryption_password_source_select" name="KeySource" style="width:154px;">
                                    <option class="c_sdcard_input_enter"     selected="true" value="ENTER"></option>
                                    <option class="c_sdcard_input_generate"                  value="GENERATE"></option>
                                </select>
                              </div>
                              <div id="id_sdcard_enter_encryption_pass_section">
                                 <div >
                                    <label class="c_sdcard_encryption_password" style="width:260px; display: inline-block; padding-bottom:10px;">Password</label>
                                    <input type="password" autocomplete="on" id="id_sdcard_set_encryption_password_input" class="c_sdcard_encryption_password sdcard-secret"
                                           confirmpasswd="id_sdcard_set_encryption_password_confirm_input" name="secret" placeholder="Enter Password" maxlength="63" required></br>
                                </div>
                                <div>
                                    <label class="c_sdcard_encryption_password_confirm" style="width:260px; display: inline-block; padding-bottom:10px;">Confirm Password</label>
                                    <input type="password" autocomplete="on" id="id_sdcard_set_encryption_password_confirm_input" class="c_sdcard_encryption_password_confirm sdcard-secret"
                                           mainpasswd="id_sdcard_set_encryption_password_input" name="secretConfirm" placeholder="Enter Password" maxlength="63" required></br>
                                </div>
                              </div>
                              <div hidden id="id_sdcard_generate_encryption_pass_section">
                                 <div >
                                    <label class="c_sdcard_show_password" style="width:325px; display: inline-block; padding-bottom:10px;">Show Password</label>
                                    <input type="checkbox" id="id_sdcard_show_generated_encryption_pass_cb" style="text-align:center;" >
                                </div>
                                <div>
                                    <input type="password" disabled autocomplete="on" id="id_sdcard_generated_encryption_password_val"
                                           class="generated-pass" name="generatedPassword" maxlength="127" required
                                           value="XFDJ755ddRR0WMns"></br>
                                </div>
                                <div>
                                    <button type="button" class="pxc-btn" id="id_sdcard_copy_encryption_password_to_clipbord"
                                            style="margin-top: 10px; ">
                                        <span class="c_sdcard_copy_password_clipboaed">Copy Password to Clipboard</span>
                                    </button>
                                    <br><br>
                                </div>
                                <br>
                              </div>
                            </div>
                            <div id="id_sdcard_activate_encryption_warning_div" class="pxc-f-gradbox" style="max-width: 440px;">
                                <span id="id_sdcard_activate_encryption_warning_info" class="c_sdcard_activate_encryption_warning_info" style="color:red;font-weight: bold;"></span>
                            </div>
                            <br>
                            <div class="centered">
                              <button type="submit" class="pxc-btn-pa"><span class="c_glb_th_config_save">Save</span></button>
                              <button type="button" class="pxc-btn" id="id_sdcard_form_activate_encryption_btn_cancel"><span class="c_glb_th_config_cancel">Cancel</span></button>
                            </div>
                          </form>
                        </div>
                    </div>
                  </div>
                </div>
            </div>
            
            <div class="modal" id="id_div_modal_set_recovery_password">
                <div class="modal-content">
                  <div class="container">
                    <h1 id="id_sdcard_form_set_recovery_password_title">Set Recovery Password for unlocking the protected SD Card</h1>
                    <div class="div-centered">
                      <form id="id_sdcard_form_set_recovery_password">
                        <div >
                            <label class="c_sdcard_recovery_password" style="width:270px; display: inline-block; padding-bottom:10px;">Password</label>
                            <input type="password" autocomplete="on" id="id_sdcard_set_recovery_password_input" class="c_sdcard_recovery_password um-userpass recovery-secret"
                                   confirmpasswd="id_sdcard_set_recovery_password_confirm_input" name="secret" placeholder="Enter Password" maxlength="63" required></br>
                        </div>
                        <div>
                            <label class="c_sdcard_recovery_password_confirm" style="width:270px; display: inline-block; padding-bottom:10px;">Confirm Password</label>
                            <input type="password" autocomplete="on" id="id_sdcard_set_recovery_password_confirm_input" class="c_sdcard_recovery_password_confirm um-userpass-confirm recovery-secret"
                                   mainpasswd="id_sdcard_set_recovery_password_input" name="secretConfirm" placeholder="Enter Password" maxlength="63" required></br>
                        </div>
                        <div class="centered">
                          <button type="submit" class="pxc-btn-pa"><span class="c_glb_th_config_save">Save</span></button>
                          <button type="button" class="pxc-btn" id="id_form_set_recovery_password_btn_cancel"><span class="c_glb_th_config_cancel">Cancel</span></button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
            </div>
            
            <div class="modal" id="id_div_modal_sdcard_del_recovery_password_confirm">
                <div class="modal-content">
                    <div class="container">
                        <div id="id_sdcard_del_recovery_password_warning_div" class="pxc-f-gradbox">
                        <span id="id_sdcard_del_recovery_password_warning_info" class="c_sdcard_del_recovery_password_warning_info" style="color:red;font-weight: bold;"></span>
                        </div>
                        <br>
                        <div style="display: flex;justify-content: center;">
                            <button class="pxc-btn-pa" id="id_sdcard_del_recovery_password_ok_btn"><span class="c_glb_btn_ok"></span></button>
                            &nbsp;
                            <button class="pxc-btn" id="id_sdcard_del_recovery_password_cancel_btn"><span class="c_glb_btn_cancel"></span></button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pxc-loader-ico modal" id="id_div_loader"></div>
        </div>
    </div>
</body>
</html>