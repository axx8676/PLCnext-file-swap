<!DOCTYPE html>
<html lang="en" xml:lang="en">
<head>
<title><!--#include virtual="InfoValues.cgi?artname"--> - LDAP Configuration</title>
<meta charset="UTF-8">
<script src="Session.js"></script>
<script src="HelpFunctions.js"></script>
<script src="Language.js"></script>
<script src="validation_rules.js"></script>
<script src="extensions/Um/LdapConfiguration.js"></script>
<style>

::placeholder {
  color: #b2b4b6;
  opacity: 1; /* Firefox */
}
:-ms-input-placeholder { /* IE 10-11 */
  color: #b2b4b6;
}

::-ms-input-placeholder { /* MS Edge */
  color: #b2b4b6;
}

input::-webkit-calendar-picker-indicator {
opacity: 100;
}

.tooltip {
    display: inline-block;
    position: relative;
}

</style>
</head>
<body>
    <div id="id_ldapconfig_page_global_div" hidden>
        <h1 id="id_pagetitle_security" class="c_menu_title_security"></h1>
        <div class="pxc-plt-ctrl">
         <div class="pxc-p-plain">
             <h3 id="id_subpagetitle_sec" class="c_ldapconfigs_subtitle_info"></h3>
             <hr></hr>
             <div class="cf pxc-cnt pxc-mod-main-table-alt-rows" >
                 <form id="id_ldapconfig_ldapservers_list_form" >
                     <table id="id_ldapconfig_general_config_table" class="pxc-tbl-zebra" style="width:100%">
                         <colgroup>
                             <col style="width: 30%">
                             <col style="width: 70%">
                         </colgroup>
                         <tr>
                             <th colspan="2" class="c_ldapconfig_server_config_general_opt"></th>
                         </tr>
                         <tr>
                             <td>
                                 <span class="c_ldapconfig_activation_status">LDAP Activation</span>
                             </td>
                             <td>
                                 <input type="checkbox" id="id_ldapconfig_activation_status_checkbox"></input>
                             </td>
                         </tr>
                     </table>
                     <br></br>
                     <h3 class="c_ldapconfig_servers_list_title" id="id_ldap_servers_table_title">LDAP Servers</h3>
                     <table class="pxc-tbl-zebra" id="id_ldapconfig_servers_table" style="width:100%" style="float: left">
                         <thead>
                             <colgroup>
                                 <col style="width: 5%">
                                 <col style="width: 25%">
                                 <col style="width: 5%">
                                 <col style="width: 18%">
                                 <col style="width: 18%">
                                 <col style="width: 24%">
                                 <col style="width: 5%">
                             </colgroup>
                             <tr>
                                 <th id="id_ldapconfig_server_ordernumber_th" class="c_ldapconfig_server_ordernumber_h">Seq.</th>
                                 <th id="id_ldapconfig_server_hostname_th" class="c_ldapconfig_server_hostname_h">Hostname</th>
                                 <th id="id_ldapconfig_server_port_th" class="c_ldapconfig_server_port_h">Port</th>
                                 <th id="id_ldapconfig_server_basedn_th" class="c_ldapconfig_server_basedn_h">Base DN</th>
                                 <th id="id_ldapconfig_server_binddn_th" class="c_ldapconfig_server_binddn_h">Bind DN</th>
                                 <th id="id_ldapconfig_server_comment_th" class="c_ldapconfig_server_comment_h">Comment</th>
                                 <th id="id_ldapconfig_server_action_th" ></th>
                             </tr>
                         </thead>
                         <tbody>
                             <tr class="exclude">
                                 <td colspan="2">
                                     <button class="pxc-btn-plus tooltip" id="id_ldapconfig_add_ldapserver_btn">
                                         <span class="tooltip-text-top c_ldapconfig_add_server_config"></span>
                                     </button>
                                     <button class="pxc-btn-remove tooltip remove-server" id="id_ldapconfig_delete_ldapserver_btn">
                                         <span class="tooltip-text-top c_ldapconfig_remove_server_config"></span>
                                     </button>
                                     <button class="pxc-btn-up tooltip" id="id_ldapconfig_moveup_ldapserver_btn">
                                         <span class="tooltip-text-top c_ldapconfig_move_server_config_up"></span>
                                     </button>
                                     <button class="pxc-btn-down tooltip" id="id_ldapconfig_movedown_ldapserver_btn">
                                         <span class="tooltip-text-top c_ldapconfig_move_server_config_down"></span>
                                     </button>
                                 </td>
                             </tr>
                         </tbody>
                     </table>
                 </form>
             </div>
             <button class="pxc-btn-pa sticky-button-bottom" id="id_ldapconfig_apply_config_button" style="float: right;"><span class="c_glb_th_config_apply"></span></button>
             <button class="pxc-btn sticky-button-bottom" id="id_ldapconfig_discard_config_button" style="float: right; margin: 0px 5px;"><span class="c_glb_th_config_discard"></span></button>
         </div>
        </div>
        <!-- Edit/Add LDAP Server Modal -->
        
        <div class="modal" id="id_ldapconfig_div_modal_addedit_server">
            <div class="modal-content">
                <div class="container">
                    <h1 id="id_ldapconfig_form_add_server_title" class="c_ldapconfig_add_server_config">Add LDAP Server</h1>
                    <h1 hidden id="id_ldapconfig_form_edit_server_title" class="c_ldapconfig_edit_server_config">Remove LDAP Server</h1>
                        <form id="id_ldapconfig_addedit_ldapserver_form" >
                            <div id="id_ldapconfig_addedit_server_main_tab">
                                <div class="pxc-cnt pxc-az">
                                    <div class="pxc-pd-tabs pxc-tabs" data-dojo-type="pxc.layout.SimpleTabController" style="float: left;" id="pxc_layout_SimpleTabController_0" widgetid="pxc_layout_SimpleTabController_0" style="visibility: visible;">
                                        <div class="cf pxc-pd-tabsrow" style="float: left;" >
                                            <h2>
                                            <a class="pxc-tab-ldapconfig-basic-config pxc-tab-on" id="id_ldapconfig_basic_config_tab_a" href="#pxc-jump-ldapconfig-basic-config" data-tab-id="id_ldapconfig_basic_config_tab">&nbsp <span class="c_ldapconfig_server_config_basic_opt"></span> &nbsp</a>
                                            </h2>
                                            <h2>
                                            <a class="pxc-tab-ldapconfig-enhanced-config" id="id_ldapconfig_enhanced_config_tab_a" href="#pxc-jump-ldapconfig-enhanced-config" data-tab-id="id_ldapconfig_enhanced_config_tab">&nbsp <span class="c_ldapconfig_server_config_enhanced_opt"></span> &nbsp</a>
                                            </h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="id_ldapconfig_basic_config_tab" class="pxc-tabouterpane pxc-stab-root" >
                                <a id="pxc-jump-ldapconfig-general-config" ></a>
                                <div class="cd pxc-pd-tab" id="id_ldapconfig_">
                                    <div id="id_ldapconfig_basic_messages_div"><span hidden id="id_ldapconfig_basic_messages_div_span" class="c_ldapconfig_server_config_basic_opt"></span></div>
                                    <div class="cf pxc-cnt pxc-mod-main-table-alt-rows">
                                        <table class="pxc-tbl-zebra" id="id_ldapconfig_server_general_config_table" style="width:100%" style="float: left">
                                            <thead>
                                                <colgroup>
                                                    <col style="width: 40%">
                                                    <col style="width: 60%">
                                                </colgroup>
                                            </thead>
                                            <tbody>
                                                <!-- General Options -->
                                                <tr id="id_ldapconfig_server_config_general_opt">
                                                    <th scope="col" colspan="2" class="c_ldapconfig_server_config_general_opt">
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_serverorder_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_serverorder_span" class="c_ldapconfig_server_ordernumber_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="ServerOrder" readonly disabled id="id_ldapconfig_server_config_order_input">  
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_hostname_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_hostname_span" class="c_ldapconfig_server_hostname_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="hostname" name="ServerName" id="id_ldapconfig_server_config_hostname_input">  
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_port_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_port_span" class="c_ldapconfig_server_port_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="text" class="port" name="ServerPort" id="id_ldapconfig_server_config_port_input" placeholder="When Empty: Default value will be used">
                                                        <span hidden id="id_ldapconfig_server_default_port_placeholder" class="c_ldapconfig_server_default_port_placeholder"></span>
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_timeout_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_port_span" class="c_ldapconfig_server_timeout_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="text" placeholder="10" class="number" name="ServerTimeout" style="width:80% !important; display:inline-block;" value="10" id="id_ldapconfig_server_config_timeout_input">  
                                                        <select name="ServerTimeoutUnit" id="id_ldapconfig_server_config_timeout_unit" style="height:20px; width:18% !important; float: right;">
                                                            <option value="s" selected>s</option>
                                                            <option value="m">m</option>
                                                            <option value="h">h</option>
                                                        </select>
                                                    </td>
                                                </tr>
                                                <!-- Security Options -->
                                                <tr id="id_ldapconfig_server_config_security_opt">
                                                    <th scope="col" colspan="2" class="c_ldapconfig_server_config_security_opt">
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_enabletls_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_enabletls_span" class="c_ldapconfig_server_tls_mode_h"></span>
                                                    </td>
                                                    <td>
                                                        <select id="id_ldapconfig_server_config_tlsmode_select" name="TlsMode" style="height:20px; width:100%;">
                                                            <option value="Deactivated" class="c_ldapconfig_server_deactivatetls_h"></option>
                                                            <option value="Tls"         class="c_ldapconfig_server_enabletls_h"></option>
                                                            <option value="StartTls"    class="c_ldapconfig_server_usestarttls_h" selected></option>
                                                        </select>
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_truststore_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_truststore_span" class="c_ldapconfig_server_truststore_h"></span>
                                                    </td>
                                                    <td>
                                                        <input id="id_ldapconfig_server_config_truststore_input" placeholder="Select a TrustStore" value="ldap" name="TrustStore" class="pxc-dropdown ldap-cert-store" type="text" list="id_ldapconfig_truststore_list"></input>
                                                        <span hidden id="id_ldapconfig_server_config_truststore_placeholder" class="c_ldapconfig_select_truststore">Select a Trust Store</span>
                                                        <datalist id="id_ldapconfig_truststore_list">
                                                        </datalist>
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_cipherlist_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_cipherlist_span" class="c_ldapconfig_server_cipherlist_h"></span>
                                                    </td>
                                                    <td>
                                                        <textarea id="id_ldapconfig_server_config_cipherlist_input" class="cipher-list" name="CipherList"  style="resize:vertical; display:inline-block; text-align:left; vertical-align:middle; height: 45px; max-height:75px; width:98%;"></textarea>
                                                    </td>
                                                </tr>
                                                <!-- Search options -->
                                                <tr id="id_ldapconfig_server_config_search_opt">
                                                    <th scope="col" colspan="2" class="c_ldapconfig_server_config_search_opt">
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_basedn_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_basedn_span" class="c_ldapconfig_server_basedn_h"></span>
                                                    </td>
                                                    <td>
                                                        <textarea class="distinguished-name" id="id_ldapconfig_server_config_basedn_input" name="baseDn"  style="resize:vertical; display:inline-block; text-align:left; vertical-align:middle; height: 30px; max-height:75px; width:98%;"></textarea>
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_searchfilter_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_searchfilter_span" class="c_ldapconfig_server_searchfilter_h"></span>
                                                    </td>
                                                    <td>
                                                        <textarea class="ldap-search-filter" id="id_ldapconfig_server_config_searchfilter_input" name="CipherList"  style="resize:vertical; display:inline-block; text-align:left; vertical-align:middle; height: 30px; max-height:75px; width:98%;"></textarea>
                                                    </td>
                                                </tr>
                                                <!-- Login options -->
                                                <tr id="id_ldapconfig_server_config_login_opt">
                                                    <th scope="col" colspan="2" class="c_ldapconfig_server_config_login_opt">
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_binddn_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_binddn_span" class="c_ldapconfig_server_binddn_h"></span>
                                                    </td>
                                                    <td>
                                                        <textarea class="distinguished-name" id="id_ldapconfig_server_config_binddn_input" name="BindDN"  style="resize:vertical; display:inline-block; text-align:left; vertical-align:middle; height: 30px; max-height:75px; width:98%;"></textarea>
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_bindpasswd_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_bindpasswd_span" class="c_ldapconfig_server_bindpasswd_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="password" class="ldap-userpass" name="BindPassword" autocomplete="off" confirmpasswd="id_ldapconfig_server_config_bindpasswd_confirm_input" id="id_ldapconfig_server_config_bindpasswd_input"></input> 
                                                    </td>
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_bindpasswd_confirm_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_bindpasswd_confirm_span" class="c_ldapconfig_server_bindpasswd_confirm_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="password" class="ldap-userpass-confirm" mainpasswd="id_ldapconfig_server_config_bindpasswd_input" autocomplete="off" name="BindPasswordConfirm" id="id_ldapconfig_server_config_bindpasswd_confirm_input"></input>  
                                                    </td>
                                                </tr>
                                                <tr class="exclude"><td style="border:0;" colspan="2"></td><tr>
                                                <!-- Locale Options -->
                                                <tr id="id_ldapconfig_server_config_local_opt">
                                                    <th scope="col" colspan="2" class="c_ldapconfig_server_config_local_opt">
                                                </tr>
                                                <tr class="odd" id="id_ldapconfig_server_config_comment_tr">
                                                    <td>
                                                        <span id="id_ldapconfig_server_config_comment_span" class="c_ldapconfig_server_comment_h"></span>
                                                    </td>
                                                    <td>
                                                        <input type="text" name="Comment" id="id_ldapconfig_server_config_comment_input"></input>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div  hidden id="id_ldapconfig_enhanced_config_tab" class="pxc-tabouterpane pxc-stab-root" >
                                <a id="pxc-jump-ldapconfig-enhanced-config" ></a>
                                <div class="cd pxc-pd-tab" id="pxc-tab-Enhanced-Config">
                                    <div id="id_ldapconfig_enhanced_messages_div"><span hidden id="id_ldapconfig_enhanced_messages_div_span" class="c_ldapconfig_server_config_enhanced_opt"></span></div>
                                    <div class="cf pxc-cnt pxc-mod-main-table-alt-rows">
                                        <h3 class="c_ldapconfig_server_config_groupattrs_opt"></h3>
                                        <table class="pxc-tbl-zebra" id="id_ldapconfig_server_config_attributes_table" style="width:100%" style="float: left">
                                            <thead>
                                                <colgroup>
                                                    <col style="width: 80%">
                                                    <col style="width: 20%">
                                                </colgroup>
                                                <tr class="exclude" id="id_ldapconfig_server_config_groupattrs_opt">
                                                    <th class="c_ldapconfig_attribut"></th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody id="id_ldapconfig_server_config_attributes_tbody">
                                                <tr class="exclude" id="id_ldapconfig_server_config_add_groupattrs_tr">
                                                    <td id="id_ldapconfig_server_config_add_groupattrs_td">
                                                        <input type="text" name="group-attributes-help" class="group-attributes" style="display: none;">
                                                        <button class="pxc-btn-plus tooltip centered" id="id_ldapconfig_server_config_add_groupattr_btn">
                                                            <span class="tooltip-text-top c_ldapconfig_add_attribute">Add attribute</span>
                                                        </button>
                                                    </td>  
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- LDAP Groups -->
                                        <h3 class="c_ldapconfig_server_config_groupmapping_opt"></h3>
                                        <table class="pxc-tbl-zebra" id="id_ldapconfig_server_config_groupmapping_table" style="width:100%" style="float: left">
                                            <thead>
                                                <colgroup>
                                                    <col style="width: 60%">
                                                    <col style="width: 35%">
                                                    <col style="width: 5%">
                                                </colgroup>
                                                <tr class="exclude" id="id_ldapconfig_server_config_groupmapping_opt">
                                                    <th id="id_ldapconfig_ldapgroup_th" class="c_ldapconfig_ldapgroup"></th>
                                                    <th id="id_ldapconfig_local_role_th" class="c_ldapconfig_local_role"></th>
                                                    <th id="id_ldapconfig_server_config_groupmapping_action_th" ></th>
                                                </tr>
                                            </thead>
                                            <tbody id="id_ldapconfig_server_config_groupmapping_tbody">
                                                <tr class="exclude" id="id_ldapconfig_server_config_add_groupattrs_tr">
                                                    <td id="id_ldapconfig_server_config_add_groupattrs_td">
                                                        <button class="pxc-btn-plus tooltip centered" id="id_ldapconfig_server_config_add_group_btn">
                                                            <span class="tooltip-text-top c_ldapconfig_add_groupmapping">Add group mapping</span>
                                                        </button>
                                                    </td>  
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </br>
                    <div class="centered">
                        <button type="submit" class="pxc-btn-pa" id="id_ldapconfig_addconfig_ldapserver_ok_button" used-option="none"><span class="c_glb_btn_ok">Ok<span></button>
                        <button type="button" class="pxc-btn" id="id_ldapconfig_addconfig_ldapserver_cancel_button"><span class="c_glb_btn_cancel">Cancel</span></button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Remove LDAP-Server confirm -->
        <div class="modal" id="id_ldapconfig_div_modal_remove_server_confirm">
            <div class="modal-content">
                <div class="container">
                    <div id="id_ldapconfig_server_remove_warning_div" class="pxc-f-gradbox">
                        <span id="id_ldapconfig_sm_server_remove_conf_info"   class="c_ldapconfig_sm_server_remove_conf_info"   style="color:red;font-weight: bold;"></span>
                    </div>
                    </br>
                    <div class="centered">
                        <button type="button" class="pxc-btn-pa" id="id_ldapconfig_remove_ldapserver_ok_btn"><span class="c_ldapconfig_remove_server_config">Remove Server</span></button>
                        <button type="button" class="pxc-btn" id="id_ldapconfig_remove_ldapserver_cancellation_btn"><span class="c_glb_btn_cancel">Cancel</span></button>
                    </div>
                </div>
            </div>
        </div>
        <div hidden id="id_ldapconfig_sm_messages_div">
            <span id="id_ldapconfig_sm_connection_error_span"   class="c_ldapconfig_connection_error_h"  ></span>
            <span id="id_ldapconfig_sm_config_set_error_span"   class="c_ldapconfig_config_read_error_h" ></span>
            <span id="id_ldapconfig_sm_config_read_error_span"  class="c_ldapconfig_config_read_error_h" ></span>
            <span id="id_ldapconfig_sm_error_code_span"         class="c_ldapconfig_msg_error_code_info" ></span>
            <span id="id_ldapconfig_sm_error_message_span"      class="c_ldapconfig_msg_error_msg_info"  ></span>
        </div>
        <div class="modal" id="id_ldapconfig_discard_modal" ifacenumber="0">
            <div class="modal-content">
                <div class="container">
                    <div id="id_ldapconfig_discard_warning_div" class="pxc-f-gradbox">
                        <span id="id_ldapconfig_discard_config_info"   class="c_glb_discard_config_warning"   style="color:red;font-weight: bold;"></span>
                    </div>
                    <br>
                    <div style="display: flex;justify-content: center;">
                        <button class="pxc-btn-pa" id="id_ldapconfig_discard_ok_btn"><span class="c_glb_btn_ok"></span></button>
                        <span>&nbsp; </span>
                        <button class="pxc-btn" id="id_ldapconfig_discard_cancle_btn"><span class="c_glb_th_config_cancel"></span></button>   
                    </div>
                </div>
            </div>
        </div>
        <div class="pxc-loader-ico modal" id="id_div_loader"></div>
    </div>
</body>
</html>
